git fetch

if ! git diff --quiet HEAD @{u}; then
  echo "üî¥ Cambios remotos detectados"
  
  # Stash de cambios locales
  git stash push -m "Auto-stash pre-pull"
  
  if ! git pull; then
    echo "‚ùå Error en git pull:"
    echo "   Resuelve los conflictos y luego:"
    echo "   1. git rebase --continue"
    echo "   2. git stash pop"
    exit 1
  fi
  
  git stash pop
fi